# Dev environment overrides for frontend
replicaCount: 1

image:
  repository: ghcr.io/rensights/app-frontend
  tag: ""  # Will be set by CI/CD with pipeline run number
  pullPolicy: Always

service:
  type: ClusterIP
  port: 3000

ingress:
  enabled: true
  className: "kong"
  hosts:
    - host: dev.72.62.40.154.nip.io
      paths:
        - path: /
          pathType: Prefix
  annotations:
    konghq.com/strip-path: "false"
    konghq.com/protocols: "http"
    konghq.com/preserve-host: "false"
    konghq.com/connect-timeout: "60000"
    konghq.com/send-timeout: "60000"
    konghq.com/read-timeout: "60000"
    konghq.com/retries: "5"

secrets:
  frontendConfig: frontend-config

extraEnv:
  # Fallback values if secret doesn't exist (should be removed once secret is configured)
  NEXT_PUBLIC_API_URL: "http://dev-api.72.62.40.154.nip.io:31416"
  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: "pk_test_51SMUlmCasMqex534KJuqfzLCrTVoMNlUcZAmEXFsGp1nWOTPsFVNDjf4FI6B02t9YLMDS87SPHqcxnPb6Xf53CyI00kXxX7B1l"
